<!DOCTYPE html>
<html lang="zh" noscript>

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">

  
<meta property="og:site_name" content="Peter&#39;s Blog" />
<meta name="color-scheme" content="light dark">
<meta name="viewport" content="width=device-width, initial-scale=1.0, viewport-fit=cover">



<link rel="icon" type="image/x-icon" href="/favicon.ico">

<title>02 W3C - Peter&#39;s Blog</title>
    <meta name="og:title" content="02 W3C - Peter&#39;s Blog" /><meta name="description" content=" …" />
    <meta property="og:description" content=" …" />
    <link rel="canonical" href="/techs/02-w3c/" />
    <meta property="og:url" content="/techs/02-w3c/" /><link rel="alternate" type="application/rss+xml" href="https://PeterFuApps.github.io/index.xml">
    
    <meta property="og:locale" content="zh" /><meta name="generator" content="Hugo 0.146.6">
<style>
  @layer {
    body {
      background: white;
    }
  }
  @media (prefers-color-scheme: dark) {
    @layer {
      body {
        background: black;
      }
    }
  }
</style>







  
  
  
  
    
      
      
      
      

      
      
      
      
      
      
      <link rel="stylesheet" href="/css/tailwind_a16942ad.7b022486e448ebe9100a9476c8d0d7dc2b4ce62c0504d052a327b8a98019247a.css" integrity="sha256-ewIkhuRI6&#43;kQCpR2yNDX3CtM5iwFBNBSoye4qYAZJHo=" crossorigin="anonymous">
      
    
    
  

  
  
  
  
    
      
      
      
      

      
      
      
      
      
      
      <link rel="stylesheet" href="/css/main_434dc2f7.08359d2deb381a15bd26bd1b957cf4328dde8f0426f9470ca946b0d6fe53835a.css" integrity="sha256-CDWdLes4GhW9Jr0blXz0Mo3ejwQm&#43;UcMqUaw1v5Tg1o=" crossorigin="anonymous">
      
    
    
  
<script>
  window.BUILD_HASH = "c7e0eb4a058e18c7b65474546a085dd4"
</script>
































  
    <script src="/js/const.min.a4b940d5f9c396615d28bb05ce96d691327e654eaa866dc9d3ce9ee25cd79751.js" integrity="sha256-pLlA1fnDlmFdKLsFzpbWkTJ&#43;ZU6qhm3J086e4lzXl1E="></script>
  

  
    <script src="/js/i18n.min.ffea6affd01dead5d03d0743c01b5f221b784a2ddfe3edcddd312a2e6590e222.js" integrity="sha256-/&#43;pq/9Ad6tXQPQdDwBtfIht4Si3f4&#43;3N3TEqLmWQ4iI="></script>
  

  
    <script src="/js/util.min.accd3b83a1f2b6c5abb7ad0fe010cd9843aa8c48242d66a94d1dd20d59bc6ad7.js" integrity="sha256-rM07g6HytsWrt60P4BDNmEOqjEgkLWapTR3SDVm8atc="></script>
  








  
    <script src="/js/observer.26f48f94fc94361e5354a27d8223608d797b0a96740f956196ee5482c2284f8d.js" integrity="sha256-JvSPlPyUNh5TVKJ9giNgjXl7CpZ0D5Vhlu5UgsIoT40=" defer></script>
  

  
    <script src="/js/main.02049b5d9722deb350f2b796e24d10ab09f6524a209136fe1cf1d51b17109557.js" integrity="sha256-AgSbXZci3rNQ8reW4k0Qqwn2UkogkTb&#43;HPHVGxcQlVc=" defer></script>
  

  
    <script src="/js/gradient.4e555cb9653273f0a6ada217869c908541c13c0f9c5731590e5497b6cd5eaa89.js" integrity="sha256-TlVcuWUyc/CmraIXhpyQhUHBPA&#43;cVzFZDlSXts1eqok=" defer></script>
  

  
    <script src="/js/theme.365eaab4220e89c235ba91d94d2b507bc83d0b77627c3e63f248434f820894cd.js" integrity="sha256-Nl6qtCIOicI1upHZTStQe8g9C3difD5j8khDT4IIlM0=" defer></script>
  

  
    <script src="/js/scroll.eccb40648d97450f30cdbea14704dee453464e3a0d2ea1c99e3966a46f95abd2.js" integrity="sha256-7MtAZI2XRQ8wzb6hRwTe5FNGTjoNLqHJnjlmpG&#43;Vq9I=" defer></script>
  

  
    <script src="/js/shine.74e94faf6ee3eabd87417b177333a80c3d3a9feca2363260c6f1e8d2c24c6704.js" integrity="sha256-dOlPr27j6r2HQXsXczOoDD06n&#43;yiNjJgxvHo0sJMZwQ=" defer></script>
  









  
    <script src="/js/img.0cd11c8a348322294dd228e0ae5cf4381285da5a7cd15e87aa74b1a9c0ca8063.js" integrity="sha256-DNEcijSDIilN0ijgrlz0OBKF2lp80V6HqnSxqcDKgGM=" async></script>
  




  <script src="/js/tex-svg.js" async></script>


</head>

<body class="h-screen flex flex-col overflow-hidden">
  
  <div class="flex-1 overflow-hidden">
    <div class="h-full w-full overflow-y-auto relative" id="scroll-container">
      
<input type="checkbox" id="theme-menu-toggle" class="hidden">


<nav class="ui-page-nav ui-panel-base ui-navbar sticky top-0 z-40 overflow-x-clip">
    <div class="ui-grid">
        <div class="col-span-full flex flex-col sm:gap-4 sm:flex-row items-center justify-between">
            <div class="flex items-center sm:w-full max-sm:mt-4 w-auto">
                <h1 class="flex items-center">
                    <a href="/" class="flex items-center w-full">
                        
                        
                            <span class="site-title">Peter&#39;s Blog</span>
                        
                    </a>
                </h1>
                
                
                <div class="ml-2">
                    <div class="ui-tooltip bottom rounded-full" data-tooltip="主题切换">
                        <label for="theme-menu-toggle" class="flex ui-button-concealed ui-interactive ui-menu-item p-1 ui-interactive cursor-pointer">
                            <i class="dark-hidden inline-block icon js-sun"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-full">
    <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />
</svg>
</i>
                            <i class="dark-inline-block hidden icon js-moon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-full">
    <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z" />
</svg>
</i>
                        </label>
                    </div>
                </div>
            </div>

            <ul class="nav-menu flex gap-2 p-0 w-full md:w-auto justify-center sm:justify-end" id="nav-content">
                
                
                    <li>
                        
                        

                        <div class="ui-tooltip bottom rounded-full"  data-tooltip="首页 Home">
                            <a href="/" 
                                draggable="false"
                                
                                    class="ui-button-concealed ui-interactive ui-menu-item"
                                
                                
                                >
                                
                                    <i class="icon"><svg width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M10 18V15C10 13.8954 10.8954 13 12 13V13C13.1046 13 14 13.8954 14 15V18" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M2 8L11.7317 3.13416C11.9006 3.04971 12.0994 3.0497 12.2683 3.13416L22 8" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
<path d="M20 11V19C20 20.1046 19.1046 21 18 21H6C4.89543 21 4 20.1046 4 19V11" stroke="currentColor" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</i>
                                
                            </a>
                            
                            
                        </div>
                    </li>
                
                    <li>
                        
                        
                            
                        

                        <div class="ui-tooltip bottom rounded-full"  data-tooltip="技术 Tech">
                            <a href="/techs/" 
                                draggable="false"
                                
                                    class="ui-button ui-menu-item ui-interactive"
                                
                                
                                aria-current="true">
                                
                                    <i class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-pc-case-icon lucide-pc-case"><rect width="14" height="20" x="5" y="2" rx="2"/><path d="M15 14h.01"/><path d="M9 6h6"/><path d="M9 10h6"/></svg></i>
                                
                            </a>
                            
                            
                        </div>
                    </li>
                
                    <li>
                        
                        

                        <div class="ui-tooltip bottom rounded-full"  data-tooltip="文章 Docs">
                            <a href="/docs/" 
                                draggable="false"
                                
                                    class="ui-button-concealed ui-interactive ui-menu-item"
                                
                                
                                >
                                
                                    <i class="icon"><svg width="24" height="24" viewBox="0 0 24 24" stroke-width="1.5" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M2.90602 17.505L5.33709 3.71766C5.5289 2.62987 6.56621 1.90354 7.654 2.09534L19.4717 4.17912C20.5595 4.37093 21.2858 5.40824 21.094 6.49603L18.6629 20.2833C18.4711 21.3711 17.4338 22.0975 16.346 21.9057L4.52834 19.8219C3.44055 19.6301 2.71421 18.5928 2.90602 17.505Z" stroke="currentColor"/>
<path d="M8.92902 6.38184L16.8075 7.77102" stroke="currentColor" stroke-linecap="round"/>
<path d="M8.23444 10.3213L16.1129 11.7105" stroke="currentColor" stroke-linecap="round"/>
<path d="M7.53986 14.2607L12.4639 15.129" stroke="currentColor" stroke-linecap="round"/>
</svg>
</i>
                                
                            </a>
                            
                            
                        </div>
                    </li>
                
                    <li>
                        
                        

                        <div class="ui-tooltip bottom rounded-full" >
                            <a href="/archives/" 
                                draggable="false"
                                
                                    class="ui-button-concealed ui-interactive ui-menu-item"
                                
                                
                                >
                                
                                    <i class="icon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-full">
    <path stroke-linecap="round" stroke-linejoin="round" d="m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z" />
</svg>
</i>
                                
                            </a>
                            
                            
                                 
                            <div class="ui-tooltip-menu">
                                
                                    
                                    
                                
                                <a class="ui-tooltip-menu-item" href="/archives/" 
                                draggable="false">
                                    
                                    <i class="icon size-4"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-full">
    <path stroke-linecap="round" stroke-linejoin="round" d="m20.25 7.5-.625 10.632a2.25 2.25 0 0 1-2.247 2.118H6.622a2.25 2.25 0 0 1-2.247-2.118L3.75 7.5M10 11.25h4M3.375 7.5h17.25c.621 0 1.125-.504 1.125-1.125v-1.5c0-.621-.504-1.125-1.125-1.125H3.375c-.621 0-1.125.504-1.125 1.125v1.5c0 .621.504 1.125 1.125 1.125Z" />
</svg>
</i>
                                    
                                    归档 Archive
                                </a>
                                
                                    
                                    
                                
                                <a class="ui-tooltip-menu-item" href="/categories/" 
                                draggable="false">
                                    
                                    <i class="icon size-4"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-folder-icon lucide-folder"><path d="M20 20a2 2 0 0 0 2-2V8a2 2 0 0 0-2-2h-7.9a2 2 0 0 1-1.69-.9L9.6 3.9A2 2 0 0 0 7.93 3H4a2 2 0 0 0-2 2v13a2 2 0 0 0 2 2Z"/></svg></i>
                                    
                                    分类 Categories
                                </a>
                                
                                    
                                    
                                
                                <a class="ui-tooltip-menu-item" href="/series/" 
                                draggable="false">
                                    
                                    <i class="icon size-4"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-bookmark-icon lucide-bookmark"><path d="m19 21-7-4-7 4V5a2 2 0 0 1 2-2h10a2 2 0 0 1 2 2v16z"/></svg></i>
                                    
                                    系列 Series
                                </a>
                                
                                    
                                    
                                
                                <a class="ui-tooltip-menu-item" href="/tags/" 
                                draggable="false">
                                    
                                    <i class="icon size-4"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-tag-icon lucide-tag"><path d="M12.586 2.586A2 2 0 0 0 11.172 2H4a2 2 0 0 0-2 2v7.172a2 2 0 0 0 .586 1.414l8.704 8.704a2.426 2.426 0 0 0 3.42 0l6.58-6.58a2.426 2.426 0 0 0 0-3.42z"/><circle cx="7.5" cy="7.5" r=".5" fill="currentColor"/></svg></i>
                                    
                                    标签 Tags
                                </a>
                                
                            </div>
                            
                        </div>
                    </li>
                
                    <li>
                        
                        

                        <div class="ui-tooltip bottom rounded-full"  data-tooltip="关于 About">
                            <a href="/about/about/" 
                                draggable="false"
                                
                                    class="ui-button-concealed ui-interactive ui-menu-item"
                                
                                
                                >
                                
                                    <i class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-file-heart-icon lucide-file-heart"><path d="M4 22h14a2 2 0 0 0 2-2V7l-5-5H6a2 2 0 0 0-2 2v2"/><path d="M14 2v4a2 2 0 0 0 2 2h4"/><path d="M10.29 10.7a2.43 2.43 0 0 0-2.66-.52c-.29.12-.56.3-.78.53l-.35.34-.35-.34a2.43 2.43 0 0 0-2.65-.53c-.3.12-.56.3-.79.53-.95.94-1 2.53.2 3.74L6.5 18l3.6-3.55c1.2-1.21 1.14-2.8.19-3.74Z"/></svg></i>
                                
                            </a>
                            
                            
                        </div>
                    </li>
                
                    <li>
                        
                        

                        <div class="ui-tooltip bottom rounded-full"  data-tooltip="搜索 Search">
                            <a href="/search/" 
                                draggable="false"
                                
                                    class="ui-button-concealed ui-interactive ui-menu-item"
                                
                                
                                >
                                
                                    <i class="icon"><svg width="24" height="24" viewBox="0 0 24 24" fill="none" xmlns="http://www.w3.org/2000/svg">
<path d="M21 21L15.8033 15.8033M15.8033 15.8033C17.1605 14.4461 18 12.5711 18 10.5C18 6.35786 14.6421 3 10.5 3C6.35786 3 3 6.35786 3 10.5C3 14.6421 6.35786 18 10.5 18C12.5711 18 14.4461 17.1605 15.8033 15.8033Z" stroke="currentColor" stroke-width="1.5" stroke-linecap="round" stroke-linejoin="round"/>
</svg>
</i>
                                
                            </a>
                            
                            
                        </div>
                    </li>
                
            </ul>
        </div>
    </div>
</nav>


<div class="fixed inset-0 z-[9999] 
            opacity-0 invisible
            transition-all duration-200 ease-in-out
            flex items-center justify-center pointer-events-none"
     id="theme-menu">
    
    
    <div class="ui-card ui-panel-material p-4 w-full max-w-xs relative pointer-events-auto">
        
        
        <div class="flex justify-between items-center mb-4">
            <div class="flex items-center gap-0.5">
                <h3 class="text-sm font-semibold">主题设置</h3>
                <div class="ui-tooltip rounded-full" data-tooltip="自动主题切换">
                    <button class="ui-button-concealed ui-interactive rounded-full p-1 selected" id="auto-theme-toggle" >
                        <i class="icon"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-sun-moon-icon lucide-sun-moon"><path d="M12 8a2.83 2.83 0 0 0 4 4 4 4 0 1 1-4-4"/><path d="M12 2v2"/><path d="M12 20v2"/><path d="m4.9 4.9 1.4 1.4"/><path d="m17.7 17.7 1.4 1.4"/><path d="M2 12h2"/><path d="M20 12h2"/><path d="m6.3 17.7-1.4 1.4"/><path d="m19.1 4.9-1.4 1.4"/></svg>
</i>
                    </button>
                </div>
                <div class="ui-tooltip rounded-full" data-tooltip="随机主题色">
                    <div class="ui-button-concealed ui-interactive rounded-full p-1" id="random-color-theme">
                        <i class="icon p-[2.2px]"><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="1.25" stroke-linecap="round" stroke-linejoin="round" class="lucide lucide-shuffle-icon lucide-shuffle"><path d="m18 14 4 4-4 4"/><path d="m18 2 4 4-4 4"/><path d="M2 18h1.973a4 4 0 0 0 3.3-1.7l5.454-8.6a4 4 0 0 1 3.3-1.7H22"/><path d="M2 6h1.972a4 4 0 0 1 3.6 2.2"/><path d="M22 18h-6.041a4 4 0 0 1-3.3-1.8l-.359-.45"/></svg></i>
                    </div>
                </div>
            </div>
            <label for="theme-menu-toggle" class="ui-button-concealed ui-interactive rounded-full p-1">
                <div class="size-6"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" >
  <path stroke-linecap="round" stroke-linejoin="round" d="M6 18 18 6M6 6l12 12" />
</svg>
</div>
            </label>
        </div>

       <div class="flex gap-2 mb-4"><div class="ui-tooltip flex-1" data-tooltip="浅色模式 Light" >
                <button class="data-theme-btn ui-button-concealed ui-interactive p-2 flex flex-col items-center gap-1 w-full" data-theme-mode="light">
                    <span class="size-4 inline-block"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-full">
    <path stroke-linecap="round" stroke-linejoin="round" d="M12 3v2.25m6.364.386-1.591 1.591M21 12h-2.25m-.386 6.364-1.591-1.591M12 18.75V21m-4.773-4.227-1.591 1.591M5.25 12H3m4.227-4.773L5.636 5.636M15.75 12a3.75 3.75 0 1 1-7.5 0 3.75 3.75 0 0 1 7.5 0Z" />
</svg>
</span>
                    <span class="text-xs">Light</span>
                </button>
            </div><div class="ui-tooltip flex-1" data-tooltip="深色模式 Dark" >
                <button class="data-theme-btn ui-button-concealed ui-interactive p-2 flex flex-col items-center gap-1 w-full" data-theme-mode="dark">
                    <span class="size-4 inline-block"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-full">
    <path stroke-linecap="round" stroke-linejoin="round" d="M21.752 15.002A9.72 9.72 0 0 1 18 15.75c-5.385 0-9.75-4.365-9.75-9.75 0-1.33.266-2.597.748-3.752A9.753 9.753 0 0 0 3 11.25C3 16.635 7.365 21 12.75 21a9.753 9.753 0 0 0 9.002-5.998Z" />
</svg>
</span>
                    <span class="text-xs">Dark</span>
                </button>
            </div></div>

        
        <div class="grid grid-cols-3 gap-2" id="color-theme-grid">
            
        </div>
    </div>
</div>
      <div class="pt-4 flex flex-col justify-between ui-main-content">
        <div class="ui-grid">
          <aside class="ui-grid-left">
            <div class="ui-content">
    

</div>
          </aside>

          <main class="ui-grid-main"><article class="">

    <div class="ui-card mb-4">
        



<figure class="relative min-h-20">
  <div title="" class="block w-full ui-no-image">
    
  </div>
</figure>

        <header class="ui-header p-4">
            <h1 class="text-2xl">02 W3C</h1>
        </header>
    
        <div class="ui-body p-4">










<div class="content-isolation-wrapper markdown">
    <h1 id="w3c">W3C</h1>
<p>W3C 标准是由万维网联盟制定的一系列标准，其中包括：</p>
<ol>
<li><strong>结构化标准语言</strong> （ HTML &amp; XML ）</li>
<li><strong>表现标准语言</strong> （ CSS ）</li>
<li><strong>行为标准语言</strong>（ DOM &amp; ECMAScript ）</li>
</ol>
<p>倡导 <strong>结构</strong>、<strong>样式</strong>、**行为 **分离。</p>
<h2 id="unicode">Unicode<sup id="unicode"> </sup></h2>
<p><em>Unicode</em> 字符在 HTML 、CSS 和 JS 中的表示方法均不相同，下面分别作介绍。</p>
<h3 id="css">CSS</h3>
<p>首先来一段很常见的 <em>Bootstrap</em> 的字体图标代码：</p>
<div class="ui-codeblock">
    
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-css" data-lang="css"><span class="line"><span class="cl"><span class="p">.</span><span class="nc">glyphicon-home</span><span class="p">:</span><span class="nd">before</span> <span class="p">{</span>
</span></span><span class="line"><span class="cl">	<span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e021&#34;</span><span class="p">;</span>
</span></span><span class="line"><span class="cl"><span class="p">}</span></span></span></code></pre></div>
</div>
<p>上面代码中的 <code>e021</code> 就是这个字符的 <em>Unicode</em> 码，是16进制。</p>
<p>语法：</p>
<div class="ui-codeblock">
    
    <div class="ui-htmlblock-container"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="s1">&#39;\ + 16进制的unicode编码&#39;</span></span></span></code></pre></div></div>
</div>
<p>如：<code>\5b89</code> 表示汉字 <code>安</code> ：</p>
<div class="ui-codeblock">
    
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span> <span class="na">class</span><span class="o">=</span><span class="s">&#34;test&#34;</span><span class="p">&gt;&lt;/</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">style</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">  <span class="p">.</span><span class="nc">test</span><span class="o">:</span> <span class="nt">before</span> <span class="p">{</span><span class="k">content</span><span class="p">:</span> <span class="s2">&#34;\e021&#34;</span><span class="p">;}</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">style</span><span class="p">&gt;</span></span></span></code></pre></div>
</div>
<h3 id="js">JS</h3>
<p>语法：</p>
<div class="ui-codeblock">
    
    <div class="ui-htmlblock-container"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="s1">&#39;\u + 16进制的unicode编码&#39;</span></span></span></code></pre></div></div>
</div>
<p>示例：</p>
<div class="ui-codeblock">
    
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="c1">// 如：&#39;\u5b89&#39;表示汉字“安”
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nx">console</span><span class="p">.</span><span class="nx">log</span><span class="p">(</span><span class="s1">&#39;\u5b89&#39;</span><span class="p">);</span> <span class="c1">// 输出“安”
</span></span></span></code></pre></div>
</div>
<h3 id="html">HTML</h3>
<p>HTML 特殊一点，使用的是 <strong>10进制</strong></p>
<p>语法：</p>
<div class="ui-codeblock">
    
    <div class="ui-htmlblock-container"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-bash" data-lang="bash"><span class="line"><span class="cl"><span class="s1">&#39;&amp;# + 10进制的unicode编码 + 英文分号;&#39;</span></span></span></code></pre></div></div>
</div>
<p>如 <kbd>&amp;#23433;</kbd> 表示汉字 <kbd>安</kbd> ，结尾的分号经测试不加也没问题，但是最好还是加一下。</p>
<div class="ui-codeblock">
    
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-html" data-lang="html"><span class="line"><span class="cl"><span class="p">&lt;</span><span class="nt">div</span><span class="p">&gt;</span>
</span></span><span class="line"><span class="cl">	这是unicode表示的字符&#34;安&#34;：<span class="ni">&amp;#23433;</span>
</span></span><span class="line"><span class="cl"><span class="p">&lt;/</span><span class="nt">div</span><span class="p">&gt;</span></span></span></code></pre></div>
</div>
<p>另外，一些特殊字符还有其它表示，也就是常说的 <kbd>html转义字符</kbd> ：</p>
<div class="ui-htmlblock-container"><div style="text-align: center"><kbd>&amp;nbsp;</kbd> == <kbd>&amp;#160;</kbd> == <kbd>空格</kbd></div></div>
<h3 id="编码">编码</h3>
<p>那么，如何知道一个汉字的unicode的编码呢？很简单：</p>
<div class="ui-codeblock">
    
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="s1">&#39;安&#39;</span><span class="p">.</span><span class="nx">charCodeAt</span><span class="p">()</span><span class="err">；</span> <span class="c1">// 输出的 23433 就是汉字 安 的unicode编码，不过注意是10进制的
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">String</span><span class="p">.</span><span class="nx">fromCharCode</span><span class="p">(</span><span class="mi">23433</span><span class="p">);</span> <span class="c1">// 输出 &#39;安&#39;
</span></span></span></code></pre></div>
</div>
<ul>
<li><code>'\\u' + '▶️'.charCodeAt().toString(16);</code> → JS 用</li>
<li><code>''\\' + '▶️'.charCodeAt().toString(16);</code> → CSS 用</li>
<li><code>'&amp;#' + '▶️'.charCodeAt().toString(10);</code> → HTML 用</li>
</ul>
<p>得到了10进制的unicode编码，再如果想在 JS 和 CSS 里面用的话，就需要用 <kbd>toString(16)</kbd> 转 16 进制再做进一步处理了。</p>
<div class="ui-codeblock">
    
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-javascript" data-lang="javascript"><span class="line"><span class="cl"><span class="nx">JSON</span><span class="p">.</span><span class="nx">parse</span><span class="p">(</span><span class="s1">&#39;&#34;&#39;</span><span class="o">+</span><span class="nx">unicode</span><span class="o">+</span><span class="s1">&#39;&#34;&#39;</span><span class="p">);</span> <span class="c1">// 输出汉字：&#34;茗&#34;
</span></span></span><span class="line"><span class="cl"><span class="c1"></span><span class="nb">eval</span><span class="p">(</span><span class="s1">&#39;&#34;&#39;</span><span class="o">+</span><span class="nx">unicode</span><span class="o">+</span><span class="s1">&#39;&#34;&#39;</span><span class="p">);</span> <span class="c1">// 或者使用eval解析也可以
</span></span></span></code></pre></div>
</div>
<h3 id="转换">转换</h3>
<ol>
<li>
<div class="ui-codeblock">
    
    <div class="ui-htmlblock-container"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"> <span class="nb">Number</span><span class="p">.</span><span class="nb">parseInt</span><span class="p">(</span><span class="nx">string</span> <span class="p">,</span> <span class="nx">radix</span><span class="p">);</span></span></span></code></pre></div></div>
</div>
<ul>
<li>
<p>把字符串根据相应的进制进行解析转为 10 进制，radix 表示进制，取值2~36，默认按照 10 进制解析。</p>
</li>
<li>
<div class="ui-codeblock">
    
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl">  <span class="nb">Number</span><span class="p">.</span><span class="nb">parseInt</span><span class="p">(</span><span class="s1">&#39;010&#39;</span><span class="p">,</span><span class="mi">8</span><span class="p">)</span>	<span class="c1">//8
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="nb">Number</span><span class="p">.</span><span class="nb">parseInt</span><span class="p">(</span><span class="s1">&#39;20&#39;</span><span class="p">,</span><span class="mi">2</span><span class="p">)</span>	<span class="c1">//NaN
</span></span></span></code></pre></div>
</div>
</li>
</ul>
</li>
<li>
<div class="ui-codeblock">
    
    <div class="ui-htmlblock-container"><div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl"> <span class="nb">Number</span><span class="p">.</span><span class="nx">toString</span><span class="p">(</span><span class="nx">radix</span><span class="p">);</span></span></span></code></pre></div></div>
</div>
<ul>
<li>
<p>这个函数将十进制数字转换为任意进制的字符串形式。radix 表示进制，取值2~36。</p>
</li>
<li>
<div class="ui-codeblock">
    
    <div class="highlight"><pre tabindex="0" class="chroma"><code class="language-js" data-lang="js"><span class="line"><span class="cl">  <span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="mi">2</span><span class="p">)</span>	<span class="c1">//&#34;1010&#34;转2进制
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">(</span><span class="mi">10</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="mi">16</span><span class="p">)</span>	<span class="c1">//&#34;a&#34; 转16进制
</span></span></span><span class="line"><span class="cl"><span class="c1"></span>  <span class="p">(</span><span class="mi">1000</span><span class="p">).</span><span class="nx">toString</span><span class="p">(</span><span class="mi">36</span><span class="p">)</span>	<span class="c1">//&#34;rs&#34; 转36进制
</span></span></span></code></pre></div>
</div>
</li>
</ul>
</li>
</ol>
<h2 id="dom">DOM</h2>
<h1 id="关于-js-与-css-是否阻塞-dom-的渲染和解析---掘金">关于 JS 与 CSS 是否阻塞 DOM 的渲染和解析 - 掘金</h1>

    <figure class="island text-base mb-4 not-prose">
        <blockquote class="island-body" >
            <h2 id="excerpt">Excerpt</h2>
<p>前言   最近系统梳理HTML5所有涉及到的标签时，梳理至<link>和<script>标签时，碰巧想到一个困扰很久的问题，即一般把<script>放在<body>尾部，<link>标签放在&lt;head</p>
        </blockquote>
        
    </figure>

<hr>
<h2 id="前言">前言</h2>
<p>  最近系统梳理<code>HTML5</code>所有涉及到的标签时，梳理至<code>&lt;link&gt;</code>和<code>&lt;script&gt;</code>标签时，碰巧想到一个困扰很久的问题，即一般把<code>&lt;script&gt;</code>放在<code>&lt;body&gt;</code>尾部，<code>&lt;link&gt;</code>标签放在<code>&lt;head&gt;</code>内部，而页面通过<code>CDN</code>引入第三方框架或库时，基本都是将其<code>&lt;script&gt;</code>标签放在<code>&lt;link&gt;</code>标签前面。</p>
<p>  可能此方式已经成为了约定俗成，但是究竟其好处在哪里，或者说其它的方式为什么不可取，想必你也和我有同样的疑问，那就接着来往下看吧。</p>
<h2 id="准备工作">准备工作</h2>
<p>  首先需要做的准备工作是，搭建一个服务器，目的是为了返回<code>css</code>样式和<code>js</code>脚本，并且让服务器根据传递的参数，固定延时返回数据。</p>
<p>  其目录结构如下，其中<code>index.js</code>和<code>style.css</code>就是用于返回的数据，<code>app.js</code>为服务器启动文件，<code>index.html</code>是用来测试案例的文件，剩余文件或文件夹可以忽略。</p>
<div class="ui-codeblock">
    
    <pre tabindex="0"><code>├── static
│   ├── index.js
│   ├── style.css
├── app.js
├── index.html
├── package.json
├── node_modules/
复制代码</code></pre>
</div>
<p>  涉及的相关代码也贴一下吧，方便复制调试。有必要说明一下，本地运行<code>node app.js</code>启动后，浏览器输入<code>http://127.0.0.1:3000/</code>就能访问到<code>index.html</code>，而访问<code>style.css</code>可以输入<code>http://127.0.0.1:3000/static/style.css?sleep=3000</code>，其中<code>sleep</code>参数则可自由控制<code>css</code>文件延时返回，例如想要文件<code>5s</code>后返回就设置<code>sleep=5000</code>。</p>
<div class="ui-codeblock">
    
    <pre tabindex="0"><code>// app.js
const express = require(&#39;express&#39;)
const fs = require(&#39;fs&#39;)
const app = new express()
const port = 3000

const sleepFun = time =&gt; {
  return new Promise(res =&gt; {
    setTimeout(() =&gt; {
      res()
    }, time)
  })
}

const filter = (req, res, next) =&gt; {
  const { sleep } = req.query || 0

  if (sleep) {
    sleepFun(sleep).then(() =&gt; next())
  } else {
    next()
  }
}

app.use(filter)

app.use(&#39;/static/&#39;, express.static(&#39;./static/&#39;))

app.get(&#39;/&#39;, function (req, res, next) {
  fs.readFile(&#39;./index.html&#39;, &#39;UTF-8&#39;, (err, data) =&gt; {
    if (err) return

    res.send(data)
  })
})

app.listen(port, () =&gt; {
  console.log(`app is running at http://127.0.0.1:${port}/`)
})

// static/index.js
var p = document.querySelector(&#39;p&#39;)

console.log(p)

// static/style.css
p {
  color: lightblue;
}
复制代码</code></pre>
</div>
<p>  接着就是<code>index.html</code>的准备工作，其中<code>HTML</code>部分的架子就长下面那样，然后你只需要记住<code>DOMContentLoaded</code>事件将在页面<code>DOM</code>解析完成后触发。</p>
<div class="ui-codeblock">
    
    <pre tabindex="0"><code>&lt;!DOCTYPE html&gt;
&lt;html lang="&#34;zh-CN&#34;&gt;"

&lt;head&gt;
  &lt;script&gt;
    document.addEventListener(&#39;DOMContentLoaded&#39;, () =&gt; {
      var p = document.querySelector(&#39;p&#39;)

      console.log(p)
    })
  &lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;p&gt;hello world&lt;/p&gt;
&lt;/body&gt;

&lt;/html&gt;
复制代码</code></pre>
</div>
<h2 id="css-不会阻塞-dom-解析但是会阻塞-dom-渲染">CSS 不会阻塞 DOM 解析，但是会阻塞 DOM 渲染</h2>
<p>  首先在<code>index.html</code>插入如下<code>&lt;link&gt;</code>标签，然后在浏览器输入<code>http://127.0.0.1:3000/</code>访问此页面。</p>
<div class="ui-codeblock">
    
    <pre tabindex="0"><code>&lt;head&gt;
  &lt;script&gt;
    document.addEventListener(&#39;DOMContentLoaded&#39;, () =&gt; {
      var p = document.querySelector(&#39;p&#39;)

      console.log(p)
    })
  &lt;/script&gt;
  &lt;link rel="&#34;stylesheet&#34;" href="&#34;./static/style.css?sleep=3000&#34;&gt;"
&lt;/head&gt;

&lt;body&gt;
  &lt;p&gt;hello world&lt;/p&gt;
&lt;/body&gt;
复制代码</code></pre>
</div>
<p>  页面初始显示为空白，控制台打印出了<code>p</code>元素，同时浏览器标签页上加载<code>loading</code>，<code>3s</code>后页面显示出浅蓝色的<code>hello world</code>。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/d148f693ca21439a868aca2627289e31~tplv-k3u1fbpfcp-zoom-in-crop-mark:1630:0:0:0.awebp" alt="在这里插入图片描述"  /></p>
<p>  以上情况也就说明，<code>CSS</code>不会阻塞<code>DOM</code>的解析，如果说<code>CSS</code>阻塞<code>DOM</code>解析的话，那么<code>p</code>标签不会被解析，进而<code>DOM</code>不会被解析完成，<code>CSS</code>请求过程中也就不可能会触发<code>DOMContentLoaded</code>事件。而且在<code>css</code>请求过程中，控制台立即打印出了<code>p</code>元素，因此<code>CSS</code>不会阻塞<code>DOM</code>的解析。</p>
<p>  另一个情况就是，虽然<code>DOM</code>很早就被解析完成，但是<code>p</code>标签却迟迟没有渲染，原因在于<code>CSS</code>样式还未请求完成，在样式获取后<code>hello world</code>才被渲染出来，所以说<code>CSS</code>会阻塞页面渲染。</p>
<p>  简单阐述一下浏览器的解析渲染过程，解析<code>DOM</code>生成<code>DOM Tree</code>，解析<code>CSS</code>生成<code>CSSOM Tree</code>，两者结合生成<code>render tree</code>渲染树，最后浏览器根据渲染树渲染至页面。由此可以看出<code>DOM Tree</code>的解析和<code>CSSOM Tree</code>的解析是互不影响的，两者是并行的。因此<code>CSS</code>不会阻塞页面<code>DOM</code>的解析，但是由于<code>render tree</code>的生成是依赖<code>DOM Tree</code>和<code>CSSOM Tree</code>的，因此<code>CSS</code>必然会阻塞<code>DOM</code>的渲染。</p>
<p>  更为严谨一点的说，<code>CSS</code>会阻塞<code>render tree</code>的生成，进而会阻塞<code>DOM</code>的渲染。</p>
<h2 id="js-会阻塞-dom-解析">JS 会阻塞 DOM 解析</h2>
<p>  为了避免加载<code>CSS</code>造成的干扰，如下仅关注<code>JS</code>的执行情况，其中<code>for</code>循环的循环体中逻辑暂不考虑，仅仅是让<code>JS</code>执行更多时间。</p>
<div class="ui-codeblock">
    
    <pre tabindex="0"><code>&lt;head&gt;
  &lt;script&gt;
    document.addEventListener(&#39;DOMContentLoaded&#39;, () =&gt; {
      var p = document.querySelector(&#39;p&#39;)

      console.log(p)
    })
  &lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;script&gt;
    const p = document.querySelector(&#39;p&#39;)

    console.log(p)

    for (var i = 0, arr = []; i &lt; 100000000; i++) {
      arr.push(i)
    }
  &lt;/script&gt;
  &lt;p&gt;hello world&lt;/p&gt;
&lt;/body&gt;
复制代码</code></pre>
</div>
<p>  浏览器访问页面，初始时为空白且控制台打印<code>null</code>，浏览器<code>loading</code>短暂延时后，控制台打印出<code>p</code>标签同时页面渲染出<code>hello world</code>。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ed84300752c543ecb7bb4cf063e7e7a8~tplv-k3u1fbpfcp-zoom-in-crop-mark:1630:0:0:0.awebp" alt="在这里插入图片描述"  /></p>
<p>  以上情况很容易说明<code>JS</code>会阻塞<code>DOM</code>解析了，<code>JS</code>执行初控制台打印<code>null</code>，因为此时<code>p</code>标签还未被解析，<code>for</code>循环执行时，可以明显感觉到执行耗时，执行完成<code>p</code>标签被解析，此时触发<code>DOMContentLoaded</code>事件，控制台打印出<code>p</code>标签，同时页面渲染出<code>hello world</code>。</p>
<p>  比较合理的解释就是，首先浏览器无法知晓<code>JS</code>的具体内容，倘若先解析<code>DOM</code>，万一<code>JS</code>内部全部删除掉<code>DOM</code>，那么浏览器就白忙活了，所以就干脆暂停解析<code>DOM</code>，等到<code>JS</code>执行完成再继续解析。</p>
<h2 id="css-会阻塞-js-的执行">CSS 会阻塞 JS 的执行</h2>
<p>  如下在页内<code>JS</code>脚本前插入<code>&lt;link&gt;</code>标签，并且延时<code>3s</code>获取<code>CSS</code>样式。</p>
<div class="ui-codeblock">
    
    <pre tabindex="0"><code>&lt;head&gt;
  &lt;script&gt;
    document.addEventListener(&#39;DOMContentLoaded&#39;, () =&gt; {
      var p = document.querySelector(&#39;p&#39;)

      console.log(p)
    })
  &lt;/script&gt;
  &lt;link rel="&#34;stylesheet&#34;" href="&#34;./static/style.css?sleep=3000&#34;&gt;"
  &lt;script src="&#34;./static/index.js&#34;&gt;&lt;/script&gt;"
&lt;/head&gt;

&lt;body&gt;
  &lt;p&gt;hello world&lt;/p&gt;
&lt;/body&gt;
复制代码</code></pre>
</div>
<p>  初始页面空白，浏览器<code>loading</code>加载<code>3s</code>后，控制台打印出<code>null</code>，紧接着打印出<code>p</code>标签，同时页面渲染出浅蓝色<code>p</code>标签。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/50fbe6302d054b0d8491fd8344f42f99~tplv-k3u1fbpfcp-zoom-in-crop-mark:1630:0:0:0.awebp" alt="在这里插入图片描述"  /></p>
<p>  此情况好像是<code>CSS</code>不仅阻塞了<code>DOM</code>的解析，并且也阻塞了<code>DOM</code>渲染。</p>
<p>  但是首先要思考下是什么阻塞了<code>DOM</code>的解析，刚刚已经证明了<code>CSS</code>不会阻塞<code>DOM</code>的解析，所以只可能是<code>JS</code>阻塞了<code>DOM</code>解析。但是<code>JS</code>只有两行代码，不会阻塞长达<code>3s</code>左右的时间。所以只有一个可能就是<code>CSS</code>会阻塞<code>JS</code>的执行。</p>
<p>  因此输出结果也能大致分析出来了，首先解析到第一个<code>&lt;script&gt;</code>标签，<code>document</code>绑定上<code>DOMContentLoaded</code>事件，紧接着解析到<code>link</code>标签，浏览器请求<code>CSS</code>样式，由于<code>CSS</code>不会阻塞<code>DOM</code>解析，因此浏览器继续向下解析，发现第二个<code>&lt;script&gt;</code>标签，浏览器请求<code>JS</code>脚本，此时<code>JS</code>获取完成，但是由于<code>CSS</code>还在获取，<code>JS</code>需要一直等待其获取完成，所以不能立即执行。</p>
<p>  而第二个<code>&lt;script&gt;</code>不能立即执行，导致它后面的<code>p</code>标签也没办法解析，原因则是<code>JS</code>会阻塞<code>DOM</code>解析。只有等待到<code>CSS</code>样式获取成功后，此时<code>JS</code>立即执行，控制台输出<code>null</code>，然后浏览器继续解析到<code>p</code>标签，解析完成，<code>DOMContentLoaded</code>事件触发，控制台输出<code>p</code>标签，最后浅蓝色<code>hello world</code>渲染至页面。</p>
<p>  其实这样做也是有道理的，设想<code>JS</code>脚本中的内容是获取<code>DOM</code>元素的<code>CSS</code>样式属性，如果<code>JS</code>想要获取到<code>DOM</code>最新的正确的样式，势必需要所有的<code>CSS</code>加载完成，否则获取的样式可能是错误或者不是最新的。因此要等到<code>JS</code>脚本前面的<code>CSS</code>加载完成，<code>JS</code>才能再执行，并且不管<code>JS</code>脚本中是否获取<code>DOM</code>元素的样式，浏览器都要这样做。</p>
<p>  回溯文章开头的那个疑问，所以一般将<code>&lt;script&gt;</code>放在<code>&lt;link&gt;</code>标签前面是有道理的。</p>
<h2 id="js-会触发页面渲染">JS 会触发页面渲染</h2>
<p>  如下<code>CSS</code>采用页内方式，其中颜色名及其<code>rgb</code>值分别为浅绿色<code>lightgreen</code>（<code>rgb(144, 238, 144)</code>）、粉色<code>pink</code>（<code>rgb(255, 192, 203)</code>）。</p>
<div class="ui-codeblock">
    
    <pre tabindex="0"><code>// index.html
&lt;head&gt;
  &lt;style&gt;
    p {
      color: lightgreen;
    }
  &lt;/style&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;p&gt;hello&lt;/p&gt;
  &lt;script src="&#34;./static/index.js?sleep=2000&#34;&gt;&lt;/script&gt;"
  &lt;p&gt;beautiful&lt;/p&gt;
  &lt;style&gt;
    p {
      color: pink;
    }
  &lt;/style&gt;
  &lt;script src="&#34;./static/index.js?sleep=4000&#34;&gt;&lt;/script&gt;"
  &lt;p&gt;world&lt;/p&gt;
  &lt;style&gt;
    p {
      color: lightblue;
    }
  &lt;/style&gt;
&lt;/body&gt;

// static/index.js
var p = document.querySelector(&#39;p&#39;)
var style = window.getComputedStyle(p, null)

console.log(style.color)
复制代码</code></pre>
</div>
<p>  页面初始渲染出浅绿色<code>hello</code>，紧接着<code>2s</code>后渲染出粉色<code>hello beautiful</code>且控制台打印<code>rgb(144, 238, 144)</code>，然后又<code>2s</code>后渲染出浅蓝色<code>hello beautiful world</code>且控制台打印<code>rgb(255, 192, 203)</code>。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/6d5dd223d4bd4860a1b6786da8c87e53~tplv-k3u1fbpfcp-zoom-in-crop-mark:1630:0:0:0.awebp" alt="在这里插入图片描述"  /></p>
<p>  上述结果大致分析为浏览器首先解析第一个<code>&lt;style&gt;</code>标签和<code>hello</code>文本的<code>p</code>标签，此时继续向下解析发现了第一个<code>&lt;script&gt;</code>标签，紧接着触发一次渲染，由于此过程非常快所以页面初始就能看到浅绿色<code>hello</code>。</p>
<p>  然后浏览器发出<code>JS</code>请求，<code>2s</code>后<code>JS</code>获取完成立即运行控制台输出<code>rgb(144, 238, 144)</code>，<code>JS</code>运行完成后浏览器继续向下解析到<code>beautiful</code>文本的<code>p</code>标签和第二个<code>&lt;style&gt;</code>标签，再继续向下解析发现了第二个<code>&lt;script&gt;</code>标签，触发一次渲染，这个过程也是非常快，所以可以看到控制台输出结果和渲染粉色<code>hello beautiful</code>几乎是同时的。</p>
<p>  解析到第二个<code>&lt;script&gt;</code>标签时，浏览器不会发出请求（稍作解释），<code>2s</code>后获取到<code>JS</code>脚本并执行，控制台输出<code>rgb(255, 192, 203)</code>，紧接着浏览器继续向下解析到<code>world</code>文本的<code>p</code>标签和第三个<code>&lt;style&gt;</code>标签，此时<code>DOM</code>解析完成，再进行正常的渲染，这个过程也是非常快，所以也能看到控制台输出结果和渲染浅蓝色<code>hello beautiful world</code>几乎是同时的。</p>
<p>  现在来解答刚才那个问题，浏览器解析<code>DOM</code>时，虽然会一行一行向下解析，但是它会预先加载具有引用标记的外部资源（例如带有<code>src</code>标记的<code>&lt;script&gt;</code>标签），而在解析到此标签时，则无需再去加载，直接运行，以此提高运行效率。所以就会有上述两个输出结果间隔<code>2s</code>的情况，而不是<code>4s</code>，因为浏览器预先就一起加载了两个<code>&lt;script&gt;</code>脚本，第一个<code>&lt;script&gt;</code>脚本加载完成时，第二个<code>&lt;script&gt;</code>脚本还剩大概<code>2s</code>加载完成。</p>
<p>  而这个结论才是解释为何<code>CSS</code>会阻塞<code>JS</code>的执行的真正原因，浏览器无法预先知道脚本的具体内容，因此在碰到<code>&lt;script&gt;</code>标签时，只好先渲染一次页面，确保<code>&lt;script&gt;</code>脚本内能获取到<code>DOM</code>的最新的样式。倘若在决定渲染页面时，还有尚未加载完成的<code>CSS</code>样式，只能等待其加载完成再去渲染页面。</p>
<h2 id="body-内的-css">Body 内的 CSS</h2>
<p>  来看一个较为特殊的情况。</p>
<div class="ui-codeblock">
    
    <pre tabindex="0"><code>&lt;head&gt;
  &lt;script&gt;
    document.addEventListener(&#39;DOMContentLoaded&#39;, () =&gt; {
      var p = document.querySelector(&#39;p&#39;)

      console.log(p)
    })
  &lt;/script&gt;
&lt;/head&gt;

&lt;body&gt;
  &lt;p&gt;hello&lt;/p&gt;
  &lt;link rel="&#34;stylesheet&#34;" href="&#34;./static/style.css?sleep=3000&#34;&gt;"
  &lt;p&gt;world&lt;/p&gt;
&lt;/body&gt;
复制代码</code></pre>
</div>
<p>  按照上述的所有结论，预先分析一下运行结果，首先浏览器解析<code>&lt;script&gt;</code>脚本，<code>document</code>上绑定了<code>DOMContentLoaded</code>事件，紧接着浏览器继续向下解析，发现了文本为<code>hello</code>的<code>p</code>标签和<code>&lt;link&gt;</code>标签，浏览器发起<code>CSS</code>请求，由于<code>CSS</code>不会阻塞<code>DOM</code>解析，浏览器继续向下解析至文本为<code>world</code>的<code>p</code>标签，此时页面解析完成，<code>DOMContentLoaded</code>事件触发控制台输出<code>p</code>标签，<code>3s</code>后页面渲染出浅蓝色<code>hello world</code>。</p>
<p>  因此初始时页面空白，浏览器<code>loading</code>加载<code>3s</code>后，控制台打印出<code>p</code>标签，同时页面渲染出浅蓝色<code>hello world</code>。</p>
<p>  但是实际结果并不是这样，先来看看<code>Chrome</code>浏览器下的表现。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/a910002ac79e4f03ad3f73b167a7c4d4~tplv-k3u1fbpfcp-zoom-in-crop-mark:1630:0:0:0.awebp" alt="在这里插入图片描述"  /></p>
<p>  再来看看<code>Firefox</code>浏览器下的表现。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/8fe9421ba5714ce7b49d43c3521421d0~tplv-k3u1fbpfcp-zoom-in-crop-mark:1630:0:0:0.awebp" alt="在这里插入图片描述"  /></p>
<p>  接着再来看看<code>Opera</code>浏览器下的表现。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/7acd07876d6f4cd4a9041bfd3816db1f~tplv-k3u1fbpfcp-zoom-in-crop-mark:1630:0:0:0.awebp" alt="在这里插入图片描述"  /></p>
<p>  <code>IE11</code>及以下浏览器的表现。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/ddc1d198fbca49a6ba3bf1bf344239da~tplv-k3u1fbpfcp-zoom-in-crop-mark:1630:0:0:0.awebp" alt="在这里插入图片描述"  /></p>
<p>  <code>Edge</code>浏览器下的表现。</p>
<p><img src="https://p3-juejin.byteimg.com/tos-cn-i-k3u1fbpfcp/886d188a2af149ff8c1ac60f7f9eb8d3~tplv-k3u1fbpfcp-zoom-in-crop-mark:1630:0:0:0.awebp" alt="在这里插入图片描述"  /></p>
<p>  怎么样，蒙了吧，<code>5</code>种浏览器<code>3</code>种表现形式，并且没有一种表现与预先分析的一致。</p>
<p>  其实造成这种差异的原因，是一种被称为浏览器样式闪烁（<a href="https://link.juejin.cn/?target="https%3A%2F%2Fwebkit.org%2Fblog%2F66%2Fthe-fouc-problem%2F"" title="https://webkit.org/blog/66/the-fouc-problem/">FOUC</a>，<code>Flash of Unstyled Content</code>）的现象。</p>
<p>  由于浏览器引擎的架构方式不一致，在浏览器解析到<code>Body</code>内的<code>CSS</code>的时候，浏览器引擎是可以做出选择的。</p>
<p>  一种选择是它可以在请求<code>CSS</code>的时候暂停后续<code>DOM</code>的解析，在<code>CSS</code>加载完成后再继续往后解析，此情况就会造成<code>CSS</code>阻塞<code>DOM</code>的解析，导致页面<code>DOM</code>解析及其样式渲染推迟，而此表现形式就与<code>JS</code>的情况相似。</p>
<p>  另一种选择是它也可以在请求<code>CSS</code>的时候继续往后解析，此时<code>CSS</code>的加载与<code>DOM</code>的解析就是并行的，等到<code>CSS</code>加载完成后再更新样式，此情况下部分<code>DOM</code>样式就会从默认样式立即跳转到有样式状态，形成样式闪烁。</p>
<p>  此小结不必太过于纠结，只需记住<code>Body</code>内的<code>CSS</code>会由于浏览器的差异，呈现不同的表现形式，而这种现象一般称为<code>FOUC</code>，代码中应当极力避免此种情况发生即可。</p>
<h2 id="综上所述">综上所述</h2>
<p>  综合上述所有情况，可以得出如下结论。</p>
<ul>
<li><code>CSS</code>不会阻塞<code>DOM</code>解析，但是会阻塞<code>DOM</code>渲染，严谨一点则是<code>CSS</code>会阻塞<code>render tree</code>的生成，进而会阻塞<code>DOM</code>的渲染</li>
<li><code>JS</code>会阻塞<code>DOM</code>解析</li>
<li><code>CSS</code>会阻塞<code>JS</code>的执行</li>
<li>浏览器遇到<code>&lt;script&gt;</code>标签且没有<code>defer</code>或<code>async</code>属性时会触发页面渲染</li>
<li><code>Body</code>内部的外链<code>CSS</code>较为特殊，会形成<code>FOUC</code>现象，请慎用</li>
</ul>
<h2 id="-写在最后">🎉 写在最后</h2>
<p>🍻伙伴们，如果你已经看到了这里，觉得这篇文章有帮助到你的话不妨点赞👍</p>
<hr>
<p>或 <a href="https://link.juejin.cn/?target="https%3A%2F%2Fgithub.com%2Fdongwei1125%2Fblog"" title="https://github.com/dongwei1125/blog">Star</a> ✨支持一下哦！</p>
<p>手动码字，如有错误，欢迎在评论区指正💬~</p>
<p>你的支持就是我更新的最大动力💪~</p>
<p><a href="https://link.juejin.cn/?target="https%3A%2F%2Fgithub.com%2Fdongwei1125"" title="https://github.com/dongwei1125">GitHub</a> / <a href="https://link.juejin.cn/?target="https%3A%2F%2Fgitee.com%2Fdongwei1125"" title="https://gitee.com/dongwei1125">Gitee</a>、<a href="https://link.juejin.cn/?target="https%3A%2F%2Fdongwei1125.github.io%2F"" title="https://dongwei1125.github.io/">GitHub Pages</a>、<a href="https://juejin.cn/user/2621689331987783" title="https://juejin.cn/user/2621689331987783">掘金</a>、<a href="https://link.juejin.cn/?target="https%3A%2F%2Fblog.csdn.net%2FDon_GW"" title="https://blog.csdn.net/Don_GW">CSDN</a> 同步更新，欢迎关注😉~</p>

  </div></div>

        <footer class="ui-footer flex flex-wrap gap-2 justify-between p-4"><time datetime='03/20' class="text-muted flex items-center">

    <i class="icon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-full">
    <path stroke-linecap="round" stroke-linejoin="round" d="M6.75 3v2.25M17.25 3v2.25M3 18.75V7.5a2.25 2.25 0 0 1 2.25-2.25h13.5A2.25 2.25 0 0 1 21 7.5v11.25m-18 0A2.25 2.25 0 0 0 5.25 21h13.5A2.25 2.25 0 0 0 21 18.75m-18 0v-7.5A2.25 2.25 0 0 1 5.25 9h13.5A2.25 2.25 0 0 1 21 11.25v7.5" />
</svg>
</i>

    <span class="ms-1">2023-03-20</span>

</time>

</footer>
    </div>

    <div class="grid grid-cols-2 gap-4 text-sm h-14"><a href="/techs/01-toolset/"
                class="ui-button ui-interactive flex items-center justify-start p-4" draggable="false">
                <i class="icon mr-1"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-full">
  <path stroke-linecap="round" stroke-linejoin="round" d="M15.75 19.5 8.25 12l7.5-7.5" />
</svg>
</i>
                <span>01 ToolSet</span>
            </a><a 
                href="/techs/03-html/"
                class="ui-button ui-interactive flex items-center justify-end p-4" draggable="false">
                <span>03 HTML</span>
                <i class="icon mr-1"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-full">
  <path stroke-linecap="round" stroke-linejoin="round" d="m8.25 4.5 7.5 7.5-7.5 7.5" />
</svg>
</i>
            </a></div>

</article>
</main>

          <aside class="ui-grid-right">
            <div class="ui-content" id="main-container-right">
    <div class="ui-card" id="toc-container">
            <header class="ui-card-header flex items-center justify-start gap-2 p-4">
                <i class="icon"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-full">
    <path stroke-linecap="round" stroke-linejoin="round" d="M3.75 6.75h16.5M3.75 12h16.5m-16.5 5.25H12" />
</svg>
</i>
                目录
            </header>
            <div class="ui-body text-muted text-sm p-4">
                <nav class="toc" id="toc-nav"><a href="#w3c" 
                           data-toc-link
                           data-level="1"
                           class="toc-link block py-1 text-base">










<div class="markdown">
    W3C
  </div></a><a href="#unicode" 
                                   data-toc-link
                                   data-level="2"
                                   class="toc-link block py-1 pl-4 text-sm">










<div class="markdown">
    Unicode<sup id="unicode"> </sup>
  </div></a><a href="#css" 
                                           data-toc-link
                                           data-level="3"
                                           class="toc-link block py-0.5 pl-8 text-xs">










<div class="markdown">
    CSS
  </div></a><a href="#js" 
                                           data-toc-link
                                           data-level="3"
                                           class="toc-link block py-0.5 pl-8 text-xs">










<div class="markdown">
    JS
  </div></a><a href="#html" 
                                           data-toc-link
                                           data-level="3"
                                           class="toc-link block py-0.5 pl-8 text-xs">










<div class="markdown">
    HTML
  </div></a><a href="#%e7%bc%96%e7%a0%81" 
                                           data-toc-link
                                           data-level="3"
                                           class="toc-link block py-0.5 pl-8 text-xs">










<div class="markdown">
    编码
  </div></a><a href="#%e8%bd%ac%e6%8d%a2" 
                                           data-toc-link
                                           data-level="3"
                                           class="toc-link block py-0.5 pl-8 text-xs">










<div class="markdown">
    转换
  </div></a><a href="#dom" 
                                   data-toc-link
                                   data-level="2"
                                   class="toc-link block py-1 pl-4 text-sm">










<div class="markdown">
    DOM
  </div></a><a href="#%e5%85%b3%e4%ba%8e-js-%e4%b8%8e-css-%e6%98%af%e5%90%a6%e9%98%bb%e5%a1%9e-dom-%e7%9a%84%e6%b8%b2%e6%9f%93%e5%92%8c%e8%a7%a3%e6%9e%90---%e6%8e%98%e9%87%91" 
                           data-toc-link
                           data-level="1"
                           class="toc-link block py-1 text-base">










<div class="markdown">
    关于 JS 与 CSS 是否阻塞 DOM 的渲染和解析 - 掘金
  </div></a><a href="#excerpt" 
                                   data-toc-link
                                   data-level="2"
                                   class="toc-link block py-1 pl-4 text-sm">










<div class="markdown">
    Excerpt
  </div></a><a href="#%e5%89%8d%e8%a8%80" 
                                   data-toc-link
                                   data-level="2"
                                   class="toc-link block py-1 pl-4 text-sm">










<div class="markdown">
    前言
  </div></a><a href="#%e5%87%86%e5%a4%87%e5%b7%a5%e4%bd%9c" 
                                   data-toc-link
                                   data-level="2"
                                   class="toc-link block py-1 pl-4 text-sm">










<div class="markdown">
    准备工作
  </div></a><a href="#css-%e4%b8%8d%e4%bc%9a%e9%98%bb%e5%a1%9e-dom-%e8%a7%a3%e6%9e%90%e4%bd%86%e6%98%af%e4%bc%9a%e9%98%bb%e5%a1%9e-dom-%e6%b8%b2%e6%9f%93" 
                                   data-toc-link
                                   data-level="2"
                                   class="toc-link block py-1 pl-4 text-sm">










<div class="markdown">
    CSS 不会阻塞 DOM 解析，但是会阻塞 DOM 渲染
  </div></a><a href="#js-%e4%bc%9a%e9%98%bb%e5%a1%9e-dom-%e8%a7%a3%e6%9e%90" 
                                   data-toc-link
                                   data-level="2"
                                   class="toc-link block py-1 pl-4 text-sm">










<div class="markdown">
    JS 会阻塞 DOM 解析
  </div></a><a href="#css-%e4%bc%9a%e9%98%bb%e5%a1%9e-js-%e7%9a%84%e6%89%a7%e8%a1%8c" 
                                   data-toc-link
                                   data-level="2"
                                   class="toc-link block py-1 pl-4 text-sm">










<div class="markdown">
    CSS 会阻塞 JS 的执行
  </div></a><a href="#js-%e4%bc%9a%e8%a7%a6%e5%8f%91%e9%a1%b5%e9%9d%a2%e6%b8%b2%e6%9f%93" 
                                   data-toc-link
                                   data-level="2"
                                   class="toc-link block py-1 pl-4 text-sm">










<div class="markdown">
    JS 会触发页面渲染
  </div></a><a href="#body-%e5%86%85%e7%9a%84-css" 
                                   data-toc-link
                                   data-level="2"
                                   class="toc-link block py-1 pl-4 text-sm">










<div class="markdown">
    Body 内的 CSS
  </div></a><a href="#%e7%bb%bc%e4%b8%8a%e6%89%80%e8%bf%b0" 
                                   data-toc-link
                                   data-level="2"
                                   class="toc-link block py-1 pl-4 text-sm">










<div class="markdown">
    综上所述
  </div></a><a href="#-%e5%86%99%e5%9c%a8%e6%9c%80%e5%90%8e" 
                                   data-toc-link
                                   data-level="2"
                                   class="toc-link block py-1 pl-4 text-sm">










<div class="markdown">
    🎉 写在最后
  </div></a></nav>
            </div>
        </div>

        
          
            <script src="/js/toc.8604a31f519eceda306690e4c19046496d448aae30653aea919df268e9100af7.js" integrity="sha256-hgSjH1GeztowZpDkwZBGSW1Eiq4wZTrqkZ3yaOkQCvc=" defer></script>
          
        
</div>
          </aside>
        </div>

        <footer>
          <div class="ui-grid">
            <aside class="ui-grid-left">
              <div class="ui-content"></div>
            </aside>

            <main class="ui-grid-main"></main>

            <aside class="ui-grid-right">
              <div class="ui-content"></div>
            </aside>
          </div>

          <div class="ui-page-footer ui-footer mt-8 ui-base col-span-full">
            <div class="py-6 flex flex-col gap-1 items-center justify-center">
              <p>
                &copy;&nbsp;Peter&#39;s Blog
              </p>
              <p class="text-xs text-muted">
                <text id="copyright"></text> All rights reserved.
              </p>
            </div>
          </div>
        </footer>
      </div>
    </div>
  </div>

  <button id="scroll-to-top" class="ui-button ui-interactive fixed bottom-4 right-8 z-50 p-4 invisible"
    aria-label="回到顶部"><svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke-width="1.5" stroke="currentColor" class="size-6">
  <path stroke-linecap="round" stroke-linejoin="round" d="m4.5 15.75 7.5-7.5 7.5 7.5" />
</svg>
</button>
</body>

</html>